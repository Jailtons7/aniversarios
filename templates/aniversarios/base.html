{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Calendário de Aniversários</title>
    <link href="{% static 'fullcalendar-5.7.2/lib/main.css' %}" rel="stylesheet">
    <link href="{% static 'img/favicon_io/favicon.ico' %}" rel="icon">
    <link href="{% static 'bootstrap-4.6.0-dist/css/bootstrap.min.css' %}" rel="stylesheet">

    <script src="https://kit.fontawesome.com/afb66e9801.js" crossorigin="anonymous"></script>
    <script src="{% static 'fullcalendar-5.7.2/lib/main.js' %}"></script>
    <script src="{% static 'fullcalendar-5.7.2/lib/locales/pt-br.js' %}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,listYear'
                },

                height: 550,
                width: 500,

                locale: 'pt-br',

                events: [
                    {% for event in object_list %}
                    {
                        title: '{{ event.aniversariante }}',
                        // Regra de recorrência
                        rrule: {
                            freq: 'yearly',
                            interval: 1,
                            byyearmanth: [ 'jun',],
                            dtstart: '{{ event.dt_aniversario }}',
                            until: '{{ envent.until }}'
                        },
                    },
                    {% endfor %}
                ],

                eventClick: (info) => {
                    console.log('clicou')
                },
            });
            calendar.render();
        });
    </script>
    <title>Title</title>
</head>
<body>
<div class="container">
    {% include 'aniversarios/navbar.html' %}

    <div id='calendar' class="mt-3"></div>

    <script type="application/javascript" href="{% static 'js/jquery-3.6.0.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
            crossorigin="anonymous">
    </script>
{#    <script type="application/javascript" href="{%  static 'bootstrap-4.6.0-dist/js/bootstrap.bundle.min.js' %}"></script>#}
{#    <script type="application/javascript" href="{% static 'bootstrap-4.6.0-dist/js/bootstrap.min.js' %}"></script>#}
</div>
</body>
</html>